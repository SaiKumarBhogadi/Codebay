{% extends 'codebay_app/base.html' %}
{% block content %}


<!-- Hero Section -->
<section class="hero-section">
  <div class="container hero-container">
    <div class="row align-items-center text-center text-lg-start">
      <div class="col-lg-6">
        <h1 class="hero-headline">Build & Sell Your Next Big Idea</h1>
        <p class="hero-subheadline">Explore or sell PHP scripts, Android apps, templates, and more on CodeBay.</p>
        <div class="hero-cta">
          <a href="{% url 'codebay_app:templates_list' %}" class="btn btn-primary me-2">Browse Templates </a>
          <a href="{% url 'codebay_app:tutorials' %}" class="btn btn-outline-secondary">Watch Tutorials</a>
        </div>
      </div>
      <div class="col-lg-6 text-center">
        <img
          src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
          alt="Code Mockup" class="img-fluid hero-image">
      </div>
    </div>
  </div>
</section>



<!-- Latest Templates Section -->
<section class="latest-section">
  <div class="container latest-container">
    <div class="latest-header">
      <h2 class="latest-title">Latest Templates & Products</h2>
      <a href="{% url 'codebay_app:templates_list' %}" class="view-more">View More Templates <i class="bi bi-arrow-right"></i></a>
    </div>
    <div id="latestTemplatesCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% if latest_templates %}
        {% for chunk in latest_templates %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="row g-4 justify-content-start">
            {% for template in chunk %}
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="{% if template.images.first %}{{ template.images.first.image.url }}{% else %}https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80{% endif %}"
                    class="product-image" alt="{{ template.name }}">
                  <div class="product-image-overlay">
                    <a href="{% url 'codebay_app:template_detail' template.id %}" class="btn-preview"><i
                        class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title"><a href="{% url 'codebay_app:template_detail' template.id %}" style="text-decoration: none; color:black">{{template.name }}</a></h3>
                  <div class="product-tech">{{ template.technologies|default:"HTML CSS JS" }}</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">{{ template.rating|floatformat:1 }}★ ({{ template.rating_count|default:0}})</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> {{ template.downloads|default:0 }}
                    </div>
                  </div>
                  <div class="product-price {% if template.price == 0 %}price-free{% else %}price-paid{% endif %}">
                    {% if template.price == 0 %}Free{% else %}Rs &nbsp;{{ template.price }}{% endif %}
                  </div>
                  <div class="product-actions">
                    <!-- <a href="{% url 'codebay_app:template_action' template.id %}" class="btn-action"> -->
                      {% if template.price == 0 %} 
                      <a href="{% url 'codebay_app:template_instructions_page' template_id=template.id %}"  class="btn-action">Download</a>{% else %}
                       <a href="{% url 'codebay_app:buy_now' template_id=template.id %}"  class="btn-action">Buy Now </a> {% endif %}
                    </a>
                    <a href="{% url 'codebay_app:cart_add' id=template.id %}" class="btn-cart"><i
                        class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="carousel-item active">
          <div class="row g-4 justify-content-start">
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    class="product-image" alt="No Template">
                  <div class="product-image-overlay">
                    <a href="#preview1" class="btn-preview"><i class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title">No Template Available</h3>
                  <div class="product-tech">HTML CSS JS</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">0.0★ (0)</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> 0
                    </div>
                  </div>
                  <div class="product-price price-free">Free</div>
                  <div class="product-actions">
                    <a href="#download1" class="btn-action">Download</a>
                    <a href="#add-to-cart1" class="btn-cart"><i class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#latestTemplatesCarousel"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#latestTemplatesCarousel"
        data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</section>

<!-- Portfolio Templates Section -->
<section class="latest-section">
  <div class="container latest-container">
    <div class="latest-header">
      <h2 class="latest-title">Portfolio Templates</h2>
      <a href="{% url 'codebay_app:templates_list' %}?category=portfolio" class="view-more">View More Templates <i
          class="bi bi-arrow-right"></i></a>
    </div>
    <div id="portfolioTemplatesCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% if portfolio_templates %}
        {% for chunk in portfolio_templates %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="row g-4 justify-content-start">
            {% for template in chunk %}
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="{% if template.images.first %}{{ template.images.first.image.url }}{% else %}https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80{% endif %}"
                    class="product-image" alt="{{ template.name }}">
                  <div class="product-image-overlay">
                    <a href="{% url 'codebay_app:template_detail' template.id %}"
                      class="btn-preview"><i class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title"><a href="{% url 'codebay_app:template_detail' template.id %}" style="text-decoration: none; color:black">{{template.name }}</a></h3>
                  <div class="product-tech">{{ template.technologies|default:"HTML CSS JS" }}</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">{{ template.rating|floatformat:1 }}★ ({{ template.rating_count|default:0}})</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> {{ template.downloads|default:0 }}
                    </div>
                  </div>
                  <div class="product-price {% if template.price == 0 %}price-free{% else %}price-paid{% endif %}">
                    {% if template.price == 0 %}Free{% else %}Rs &nbsp;{{ template.price }}{% endif %}
                  </div>
                   <div class="product-actions">
                    <!-- <a href="{% url 'codebay_app:template_action' template.id %}" class="btn-action"> -->
                      {% if template.price == 0 %} 
                      <a href="{% url 'codebay_app:template_instructions_page' template_id=template.id %}"  class="btn-action">Download</a>{% else %}
                       <a href="{% url 'codebay_app:buy_now' template_id=template.id %}"  class="btn-action">Buy Now </a> {% endif %}
                    </a>
                    <a href="{% url 'codebay_app:cart_add' id=template.id %}" class="btn-cart"><i
                        class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="carousel-item active">
          <div class="row g-4 justify-content-start">
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    class="product-image" alt="No Template">
                  <div class="product-image-overlay">
                    <a href="#preview-portfolio1" class="btn-preview"><i class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title">No Template Available</h3>
                  <div class="product-tech">HTML CSS JS</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">0.0★ (0)</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> 0
                    </div>
                  </div>
                  <div class="product-price price-free">Free</div>
                  <div class="product-actions">
                    <a href="#download-portfolio1" class="btn-action">Download</a>
                    <a href="#add-to-cart-portfolio1" class="btn-cart"><i class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#portfolioTemplatesCarousel"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#portfolioTemplatesCarousel"
        data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</section>

<!-- E-commerce Templates Section -->
<section class="latest-section">
  <div class="container latest-container">
    <div class="latest-header">
      <h2 class="latest-title">E-commerce Templates</h2>
      <a href="{% url 'codebay_app:templates_list' %}?category=ecommerce" class="view-more">View More Templates <i
          class="bi bi-arrow-right"></i></a>
    </div>
    <div id="ecommerceTemplatesCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% if ecommerce_templates %}
        {% for chunk in ecommerce_templates %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="row g-4 justify-content-start">
            {% for template in chunk %}
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="{% if template.images.first %}{{ template.images.first.image.url }}{% else %}https://images.unsplash.com/photo-1557821552-17105176677c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80{% endif %}"
                    class="product-image" alt="{{ template.name }}">
                  <div class="product-image-overlay">
                    <a href="{% url 'codebay_app:template_detail' template.id %}"
                      class="btn-preview"><i class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title"><a href="{% url 'codebay_app:template_detail' template.id %}" style="text-decoration: none; color:black">{{template.name }}</a></h3>
                  <div class="product-tech">{{ template.technologies|default:"HTML CSS JS" }}</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">{{ template.rating|floatformat:1 }}★ ({{ template.rating_count|default:0}})</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> {{ template.downloads|default:0 }}
                    </div>
                  </div>
                  <div class="product-price {% if template.price == 0 %}price-free{% else %}price-paid{% endif %}">
                    {% if template.price == 0 %}Free{% else %}Rs &nbsp;{{ template.price }}{% endif %}
                  </div>
                   <div class="product-actions">
                    <!-- <a href="{% url 'codebay_app:template_action' template.id %}" class="btn-action"> -->
                      {% if template.price == 0 %} 
                      <a href="{% url 'codebay_app:template_instructions_page' template_id=template.id %}"  class="btn-action">Download</a>{% else %}
                       <a href="{% url 'codebay_app:buy_now' template_id=template.id %}"  class="btn-action">Buy Now </a> {% endif %}
                    </a>
                    <a href="{% url 'codebay_app:cart_add' id=template.id %}" class="btn-cart"><i
                        class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="carousel-item active">
          <div class="row g-4 justify-content-start">
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="https://images.unsplash.com/photo-1557821552-17105176677c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    class="product-image" alt="No Template">
                  <div class="product-image-overlay">
                    <a href="#preview-ecommerce1" class="btn-preview"><i class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title">No Template Available</h3>
                  <div class="product-tech">HTML CSS JS</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">0.0★ (0)</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> 0
                    </div>
                  </div>
                  <div class="product-price price-free">Free</div>
                  <div class="product-actions">
                    <a href="#download-ecommerce1" class="btn-action">Download</a>
                    <a href="#add-to-cart-ecommerce1" class="btn-cart"><i class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#ecommerceTemplatesCarousel"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#ecommerceTemplatesCarousel"
        data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</section>

<!-- Business Templates Section -->
<section class="latest-section">
  <div class="container latest-container">
    <div class="latest-header">
      <h2 class="latest-title">Business Templates</h2>
      <a href="{% url 'codebay_app:templates_list' %}?category=business" class="view-more">View More Templates <i
          class="bi bi-arrow-right"></i></a>
    </div>
    <div id="businessTemplatesCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% if business_templates %}
        {% for chunk in business_templates %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="row g-4 justify-content-start">
            {% for template in chunk %}
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="{% if template.images.first %}{{ template.images.first.image.url }}{% else %}https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80{% endif %}"
                    class="product-image" alt="{{ template.name }}">
                  <div class="product-image-overlay">
                    <a href="{% url 'codebay_app:template_detail' template.id %}"
                      class="btn-preview"><i class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title"><a href="{% url 'codebay_app:template_detail' template.id %}" style="text-decoration: none; color:black">{{template.name }}</a></h3>
                  <div class="product-tech">{{ template.technologies|default:"HTML CSS JS" }}</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">{{ template.rating|floatformat:1 }}★ ({{ template.rating_count|default:0}})</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> {{ template.downloads|default:0 }}
                    </div>
                  </div>
                  <div class="product-price {% if template.price == 0 %}price-free{% else %}price-paid{% endif %}">
                    {% if template.price == 0 %}Free{% else %}Rs &nbsp;{{ template.price }}{% endif %}
                  </div>
                  <div class="product-actions">
                    <!-- <a href="{% url 'codebay_app:template_action' template.id %}" class="btn-action"> -->
                      {% if template.price == 0 %} 
                      <a href="{% url 'codebay_app:template_instructions_page' template_id=template.id %}"  class="btn-action">Download</a>{% else %}
                       <a href="{% url 'codebay_app:buy_now' template_id=template.id %}"  class="btn-action">Buy Now </a> {% endif %}
                    </a>
                    <a href="{% url 'codebay_app:cart_add' id=template.id %}" class="btn-cart"><i
                        class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="carousel-item active">
          <div class="row g-4 justify-content-start">
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    class="product-image" alt="No Template">
                  <div class="product-image-overlay">
                    <a href="#preview-business1" class="btn-preview"><i class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title">No Template Available</h3>
                  <div class="product-tech">HTML CSS JS</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">0.0★ (0)</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> 0
                    </div>
                  </div>
                  <div class="product-price price-free">Free</div>
                  <div class="product-actions">
                    <a href="#download-business1" class="btn-action">Download</a>
                    <a href="#add-to-cart-business1" class="btn-cart"><i class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#businessTemplatesCarousel"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#businessTemplatesCarousel"
        data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</section>

<!-- Popular Templates Section -->
<section class="latest-section">
  <div class="container latest-container">
    <div class="latest-header">
      <h2 class="latest-title">Popular Templates</h2>
      <a href="{% url 'codebay_app:templates_list' %}?sort=popular" class="view-more">View More Templates <i
          class="bi bi-arrow-right"></i></a>
    </div>
    <div id="popularTemplatesCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% if popular_templates %}
        {% for chunk in popular_templates %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="row g-4 justify-content-start">
            {% for template in chunk %}
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="{% if template.images.first %}{{ template.images.first.image.url }}{% else %}https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80{% endif %}"
                    class="product-image" alt="{{ template.name }}">
                  <div class="product-image-overlay">
                    <a href="{% url 'codebay_app:template_detail' template.id %}"
                      class="btn-preview"><i class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title"><a href="{% url 'codebay_app:template_detail' template.id %}" style="text-decoration: none; color:black">{{template.name }}</a></h3>
                  <div class="product-tech">{{ template.technologies|default:"HTML CSS JS" }}</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">{{ template.rating|floatformat:1 }}★ ({{ template.rating_count|default:0}})</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> {{ template.downloads|default:0 }}
                    </div>
                  </div>
                  <div class="product-price {% if template.price == 0 %}price-free{% else %}price-paid{% endif %}">
                    {% if template.price == 0 %}Free{% else %}Rs &nbsp;{{ template.price }}{% endif %}
                  </div>
                   <div class="product-actions">
                    <!-- <a href="{% url 'codebay_app:template_action' template.id %}" class="btn-action"> -->
                      {% if template.price == 0 %} 
                      <a href="{% url 'codebay_app:template_instructions_page' template_id=template.id %}"  class="btn-action">Download</a>{% else %}
                       <a href="{% url 'codebay_app:buy_now' template_id=template.id %}"  class="btn-action">Buy Now </a> {% endif %}
                    </a>
                    <a href="{% url 'codebay_app:cart_add' id=template.id %}" class="btn-cart"><i
                        class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="carousel-item active">
          <div class="row g-4 justify-content-start">
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    class="product-image" alt="No Template">
                  <div class="product-image-overlay">
                    <a href="#preview-popular1" class="btn-preview"><i class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title">No Template Available</h3>
                  <div class="product-tech">HTML CSS JS</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">0.0★ (0)</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> 0
                    </div>
                  </div>
                  <div class="product-price price-free">Free</div>
                  <div class="product-actions">
                    <a href="#download-popular1" class="btn-action">Download</a>
                    <a href="#add-to-cart-popular1" class="btn-cart"><i class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#popularTemplatesCarousel"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#popularTemplatesCarousel"
        data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</section>

<!-- Landing Templates Section -->
<section class="latest-section">
  <div class="container latest-container">
    <div class="latest-header">
      <h2 class="latest-title">Landing Templates</h2>
      <a href="{% url 'codebay_app:templates_list' %}?category=landing-page" class="view-more">View More Templates <i
          class="bi bi-arrow-right"></i></a>
    </div>
    <div id="landingTemplatesCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% if landing_templates %}
        {% for chunk in landing_templates %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <div class="row g-4 justify-content-start">
            {% for template in chunk %}
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="{% if template.images.first %}{{ template.images.first.image.url }}{% else %}https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80{% endif %}"
                    class="product-image" alt="{{ template.name }}">
                  <div class="product-image-overlay">
                    <a href="{% url 'codebay_app:template_detail' template.id %}"
                      class="btn-preview"><i class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title"><a href="{% url 'codebay_app:template_detail' template.id %}" style="text-decoration: none; color:black">{{template.name }}</a></h3>
                  <div class="product-tech">{{ template.technologies|default:"HTML CSS JS" }}</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">{{ template.rating|floatformat:1 }}★ ({{ template.rating_count|default:0}})</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> {{ template.downloads|default:0 }}
                    </div>
                  </div>
                  <div class="product-price {% if template.price == 0 %}price-free{% else %}price-paid{% endif %}">
                    {% if template.price == 0 %}Free{% else %}Rs &nbsp;{{ template.price }}{% endif %}
                  </div>
                   <div class="product-actions">
                    <!-- <a href="{% url 'codebay_app:template_action' template.id %}" class="btn-action"> -->
                      {% if template.price == 0 %} 
                      <a href="{% url 'codebay_app:template_instructions_page' template_id=template.id %}"  class="btn-action">Download</a>{% else %}
                       <a href="{% url 'codebay_app:buy_now' template_id=template.id %}"  class="btn-action">Buy Now </a> {% endif %}
                    </a>
                    <a href="{% url 'codebay_app:cart_add' id=template.id %}" class="btn-cart"><i
                        class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="carousel-item active">
          <div class="row g-4 justify-content-start">
            <div class="col carousel-card">
              <div class="product-card">
                <div class="product-image-wrapper">
                  <img
                    src="https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                    class="product-image" alt="No Template">
                  <div class="product-image-overlay">
                    <a href="#preview-landing1" class="btn-preview"><i class="bi bi-eye"></i> Preview</a>
                  </div>
                </div>
                <div class="product-body">
                  <h3 class="product-title">No Template Available</h3>
                  <div class="product-tech">HTML CSS JS</div>
                  <div class="product-meta">
                    <div class="product-rating">
                      <span class="rating">0.0★ (0)</span>
                    </div>
                    <div class="product-downloads">
                      <i class="bi bi-download"></i> 0
                    </div>
                  </div>
                  <div class="product-price price-free">Free</div>
                  <div class="product-actions">
                    <a href="#download-landing1" class="btn-action">Download</a>
                    <a href="#add-to-cart-landing1" class="btn-cart"><i class="bi bi-cart"></i> Add to Cart</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#landingTemplatesCarousel"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#landingTemplatesCarousel"
        data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</section>



<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Bootstrap should handle this, but adding a fallback in case it fails
    const carousels = document.querySelectorAll('.carousel');
    carousels.forEach(carousel => {
      const prevBtn = carousel.querySelector('.carousel-control-prev');
      const nextBtn = carousel.querySelector('.carousel-control-next');

      if (prevBtn && nextBtn) {
        prevBtn.addEventListener('click', function (e) {
          e.preventDefault();
          const bsCarousel = bootstrap.Carousel.getInstance(carousel);
          if (bsCarousel) {
            bsCarousel.prev();
          } else {
            // Fallback: Manually trigger the previous slide
            const items = carousel.querySelectorAll('.carousel-item');
            let activeIndex = Array.from(items).findIndex(item => item.classList.contains('active'));
            if (activeIndex > 0) {
              items[activeIndex].classList.remove('active');
              items[activeIndex - 1].classList.add('active');
            } else {
              items[activeIndex].classList.remove('active');
              items[items.length - 1].classList.add('active');
            }
          }
        });

        nextBtn.addEventListener('click', function (e) {
          e.preventDefault();
          const bsCarousel = bootstrap.Carousel.getInstance(carousel);
          if (bsCarousel) {
            bsCarousel.next();
          } else {
            // Fallback: Manually trigger the next slide
            const items = carousel.querySelectorAll('.carousel-item');
            let activeIndex = Array.from(items).findIndex(item => item.classList.contains('active'));
            if (activeIndex < items.length - 1) {
              items[activeIndex].classList.remove('active');
              items[activeIndex + 1].classList.add('active');
            } else {
              items[activeIndex].classList.remove('active');
              items[0].classList.add('active');
            }
          }
        });
      }
    });
  });
</script>


<!-- Create Your Custom Website and App Section -->
<section class="custom-section">
  <div class="custom-container">
    <h2 class="custom-title">Create Your Custom Website and App</h2>
    <p class="custom-description">
      Bring your vision to life with a fully customized website or app. Whether it's a stunning portfolio, a robust
      e-commerce platform, or a sleek business site, we’ve got you covered. Start today!
    </p>
    <a href="#get-started" class="custom-cta">
      Get Started <i class="bi bi-arrow-right"></i>
    </a>
    <div class="custom-icons">
      <i class="custom-icon bi bi-laptop"></i>
      <i class="custom-icon bi bi-phone"></i>
    </div>
  </div>
</section>


<!-- Our Services Section -->
<section class="services-section">
  <div class="services-container">
    <h2 class="services-title">Our Services</h2>
    <div class="services-grid">
      <!-- App Development -->
      <div class="service-card">
        <i class="service-icon bi bi-phone"></i>
        <h3 class="service-title">App Development</h3>
        <p class="service-description">
          Build seamless mobile apps for iOS and Android with cutting-edge technologies.
        </p>
      </div>
      <!-- Web Development -->
      <div class="service-card">
        <i class="service-icon bi bi-laptop"></i>
        <h3 class="service-title">Web Development</h3>
        <p class="service-description">
          Create responsive, high-performance websites tailored to your needs.
        </p>
      </div>
      <!-- UI/UX Design -->
      <div class="service-card">
        <i class="service-icon bi bi-brush"></i>
        <h3 class="service-title">UI/UX Design</h3>
        <p class="service-description">
          Design intuitive and visually stunning user interfaces for better experiences.
        </p>
      </div>
      <!-- E-commerce Solutions -->
      <div class="service-card">
        <i class="service-icon bi bi-cart"></i>
        <h3 class="service-title">E-commerce Solutions</h3>
        <p class="service-description">
          Develop robust online stores with secure payment systems and scalability.
        </p>
      </div>
      <!-- Custom Software Development -->
      <div class="service-card">
        <i class="service-icon bi bi-code-slash"></i>
        <h3 class="service-title">Custom Software Development</h3>
        <p class="service-description">
          Build bespoke software solutions to meet your unique business requirements.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Technologies We Use Section (Updated) -->
<section class="tech-stack-section">
  <div class="tech-stack-container">
    <h2 class="tech-stack-title">Technologies We Use</h2>
    <div class="tech-stack-list">
      <!-- HTML -->
      <div class="tech-item">
        <i class="tech-icon bi bi-file-code"></i>
        <span class="tech-name">HTML</span>
      </div>
      <!-- CSS -->
      <div class="tech-item">
        <i class="tech-icon bi bi-paint-bucket"></i>
        <span class="tech-name">CSS</span>
      </div>
      <!-- JavaScript -->
      <div class="tech-item">
        <i class="tech-icon bi bi-code-square"></i>
        <span class="tech-name">JavaScript</span>
      </div>
      <!-- React -->
      <div class="tech-item">
        <i class="tech-icon bi bi-gear"></i>
        <span class="tech-name">React</span>
      </div>
      <!-- Node.js -->
      <div class="tech-item">
        <i class="tech-icon bi bi-server"></i>
        <span class="tech-name">Node.js</span>
      </div>
      <!-- Bootstrap -->
      <div class="tech-item">
        <i class="tech-icon bi bi-bootstrap"></i>
        <span class="tech-name">Bootstrap</span>
      </div>
      <!-- Flutter -->
      <div class="tech-item">
        <i class="tech-icon bi bi-phone-fill"></i>
        <span class="tech-name">Flutter</span>
      </div>
      <!-- Swift -->
      <div class="tech-item">
        <i class="tech-icon bi bi-apple"></i>
        <span class="tech-name">Swift</span>
      </div>
      <!-- Kotlin -->
      <div class="tech-item">
        <i class="tech-icon bi bi-android2"></i>
        <span class="tech-name">Kotlin</span>
      </div>
      <!-- Figma -->
      <div class="tech-item">
        <i class="tech-icon bi bi-droplet"></i>
        <span class="tech-name">Figma</span>
      </div>
      <!-- Django -->
      <div class="tech-item">
        <i class="tech-icon bi bi-boxes"></i>
        <span class="tech-name">Django</span>
      </div>
      <!-- Python -->
      <div class="tech-item">
        <i class="tech-icon bi bi-code-slash"></i>
        <span class="tech-name">Python</span>
      </div>
      <!-- Tailwind CSS -->
      <div class="tech-item">
        <i class="tech-icon bi bi-palette"></i>
        <span class="tech-name">Tailwind CSS</span>
      </div>
      <!-- PostgreSQL -->
      <div class="tech-item">
        <i class="tech-icon bi bi-database"></i>
        <span class="tech-name">PostgreSQL</span>
      </div>
      <!-- Git -->
      <div class="tech-item">
        <i class="tech-icon bi bi-git"></i>
        <span class="tech-name">Git</span>
      </div>
    </div>
  </div>
</section>


<!-- Testimonials Section -->
<section class="testimonials-section">
  <div class="testimonials-container">
    <h2 class="testimonials-title">What Our Users Say</h2>
    <div class="testimonials-grid">
      <!-- Testimonial 1 -->
      <div class="testimonial-card">
        <i class="testimonial-icon bi bi-quote"></i>
        <p class="testimonial-quote">"The templates are incredibly easy to use and customize. I had my portfolio up and
          running in no time!"</p>
        <p class="testimonial-author">John Doe</p>
        <p class="testimonial-role">Web Developer</p>
      </div>
      <!-- Testimonial 2 -->
      <div class="testimonial-card">
        <i class="testimonial-icon bi bi-quote"></i>
        <p class="testimonial-quote">"I built my e-commerce site with one of their templates, and it looks professional
          and modern. Highly recommend!"</p>
        <p class="testimonial-author">Sarah Smith</p>
        <p class="testimonial-role">Entrepreneur</p>
      </div>
      <!-- Testimonial 3 -->
      <div class="testimonial-card">
        <i class="testimonial-icon bi bi-quote"></i>
        <p class="testimonial-quote">"Their support team helped me customize my business website. Amazing service and
          quality templates!"</p>
        <p class="testimonial-author">Mike Johnson</p>
        <p class="testimonial-role">Business Owner</p>
      </div>
    </div>
  </div>
</section>

{% endblock %}